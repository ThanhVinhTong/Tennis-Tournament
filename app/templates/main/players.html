{% extends "base.html" %}
{% block title %}Manage Players{% endblock %}
{% block content %}
<div class="container mt-4 manage-players-section">
  <h3>ðŸŽ¾ Manage Players</h3>

  <form method="POST" class="row g-3 mb-4 align-items-end">
    {{ form.hidden_tag() }}
    <div class="col-md-5">
      {{ form.name.label(class="form-label") }}
      {{ form.name(class="form-control") }}
    </div>
    <div class="col-md-5">
      {{ form.country.label(class="form-label") }}
      {{ form.country(class="form-control") }}
    </div>
    <div class="col-md-2 d-flex align-items-end">
      {{ form.submit(class="btn btn-success w-100 h-100") }}
    </div>
  </form>

  <table class="table table-striped">
    <thead><tr><th>#</th><th>Name</th><th>Country</th><th>Action</th></tr></thead>
    <tbody>
      {% for p in players %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.country or '-' }}</td>
        <td>
          <form method="POST" action="{{ url_for('main.delete_player', pid=p.id) }}"
                onsubmit="return confirm('Delete {{ p.name }}?');">
            <button class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
